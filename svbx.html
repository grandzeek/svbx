<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BXSurvays</title>
    <link rel="stylesheet" href="SVBX.css">
</head>
<body>
    <br>
<header>
    <!--Navigation center -->
    <nav>
        <a href="#home">Home</a>
        <a href="#services">Services</a>
        <a href="#contact">Contact</a>
    </nav>
</header>
<main>
    <!-- landing section pg below nav section  -->
    <div>
        <section id="home">
                <h1 style="color: blue; margin-bottom: 10px; font-size: 30px;">BX Survey</h1>
                <div class="landing-pg">
                    <h1>Welcome to BX Surveys</h1>
                    <br>
                    <p style="margin-left: 15px; margin-right: 15px">As a surveyor, I play a crucial role in shaping our environment. Our servises ensure accurate measurement data for land boundaries, construction projects, and legal documentation, ensuring regulatory compliance, and preventing costly dispute</p>
                    <br>
                    <p style="margin-bottom: auto">Your trusted partner for professional land surveying services</p>
                 </div>
            <br>
        </section>
    </div>
    <br>

    <!-- Service section -->
    <section id="services">
        <h1 style="color: hwb(240 0% 0% / 0.884); margin-bottom: 10px">Our Services</h1>

        <!-- Div for shop items -->
        <div class="main-div" >
                <!-- Generating 13 Sub-Divs -->
                <div class="sub-div">
                    <h2>Land Survey</h2>
                    <p>Determining precise property boundaries through detailed measurements, ensuring accuracy for legal and construction purposes. Producing comprehensive boundary maps and plans to assist with land ownership, development, and resolution of disputes effectively</p>
                    <span class="price" id="10000">Ksh. 10,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Construction Survey</h2>
                    <P>Setting out precise points and lines for construction projects like buildings, roads, and bridges. Ensures infrastructure aligns with design specifications accurately while providing essential elevation checks and grading plans for efficient construction</P>
                    <br>
                    <span class="price" id="20000">Ksh.20,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Topographic Survey</h2>
                    <P>Mapping and analyzing natural and man-made features of land, including elevations, contours, vegetation, and structures. Provides valuable data for architects and engineers, aiding in accurate planning and design processes.</P>
                    <br>
                    <span class="price" id="15000">Ksh.15,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Title Surveying</h2>
                    <P>Conducting surveys to support legal documentation of land ownership, ensuring precise property descriptions. Provides reliable data for deeds, legal records, and compliance with regulatory requirements, aiding in secure land transactions and dispute resolution.</P>
                    <span class="price" id="12000">Ksh.12,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Boundary Survey</h2>
                    <P>Locating and clearly marking property boundaries for landowners. Helps prevent encroachments, ensures proper land use, and resolves disputes related to property lines with accuracy and reliability.</P>
                    <br>
                    <span class="price" id="13000">Ksh.13,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Geodetic Survey</h2>
                    <P>Conducting large-scale surveys that consider the Earth's curvature. Essential for mapping extensive regions, establishing accurate control points, and calibrating GPS data for high-precision applications.</P>
                    <br>
                    <span class="price" id="11000">Ksh.11,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Engineering Survey </h2>
                    <P>Performing measurements and analysis to support the planning of engineering projects. Covers road alignments, railways, pipelines, drainage systems, and other critical infrastructure designs.</P>
                    <br>
                    <span class="price" id="9000">Ksh.9,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Mining and Quarry Survey</h2>
                    <P>Assessing land for the extraction of minerals, oil, gas, and other natural resources. Includes monitoring excavation, ensuring slope stability, and calculating material volumes to support safe and efficient resource extraction processes.</P>
                    <span class="price" id="8000">Ksh.8,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Hydrographic Survey</h2>
                    <p>Mapping and measuring water bodies such as rivers, streams, lakes, and oceans. Involves determining water depths, identifying underwater features, and detecting potential water hazards for navigation and resource management.</p>
                    <br>
                    <span class="price" id="13100">Ksh.13,100</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Legal Documentation</h2>
                    <p>Preparing accurate legal documentation for property transactions, boundary disputes, easements, and land development. Ensures compliance with regulations, clarifies ownership, and provides reliable records to support legal proceedings while minimizing potential conflicts or misunderstandings.</p>
                    <span class="price" id="7000">Ksh.7,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>Aerial Survey</h2>
                    <p>Using drones or planes to capture aerial images and data. This method is fast, cost-effective, and ideal for large-scale mapping, inspections, monitoring, and analyzing areas difficult to access on the ground.</p>
                    <br><br>
                    <span class="price" id="6000">Ksh.6,000</span>
                    <button>Add to Cart</button>
                </div>
                <div class="sub-div">
                    <h2>As-Built Survey</h2>
                    <p>Verifying dimensions and placements of completed construction projects. This process ensures that the final structure matches the original design, specifications, and regulatory standards, providing accuracy and avoiding potential compliance issues.</p>
                    <br>
                    <span class="price" id="21000">Ksh.21,000</span>
                    <button>Add to Cart</button>
                </div>
         </div>
        <br>
        <!-- Check out btn -->
        <button class="checkout">Check out</button>
        
        <!-- Script for add to cart function -->
        <script>
            // Initialize the total variable
            let total = 0;

            // Get all 'Add to Cart' buttons
            const addToCartButtons = document.querySelectorAll('.sub-div button');

            // Add event listeners for each "Add to Cart" button
            addToCartButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Get the price from the sibling <span class="price">
                    const priceText = button.previousElementSibling.textContent;
                    const price = parseInt(priceText.replace(/[^0-9]/g, '')); // Extract numeric value from 'Ksh. xx,xxx'
                    total += price; // Add the extracted price to the total
                });
            });

            // Get the "Check out" button
            const checkoutButton = document.querySelector('.checkout');

            // Add a hover event to display the total
            checkoutButton.addEventListener('mouseover', () => {
                checkoutButton.textContent = `Check out ${total}`;
            });taks
            // Reset the text of the "Check out" button when the hover is removed
            checkoutButton.addEventListener('mouseout', () => {
                checkoutButton.textContent = 'Check out';
            });
        </script>

        <!-- Script for chek out btn-->
        <script>
            // Add click event listener to the "Check out" button
            document.querySelector(".checkout").addEventListener("click", async () => {
                const phoneNumber = prompt("Enter your phone number (e.g., 254700123456):");
                const amount = 1000; // Replace with the actual total amount

                if (!phoneNumber || phoneNumber.trim() === "") {
                    alert("Phone number is required!");
                    return;
                }

                try {
                    const response = await fetch("http://localhost:3000/stkpush", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ phoneNumber, amount })
                    });

                    if (response.ok) {
                        const resData = await response.json();
                        alert("STK Push initiated! Please check your phone and approve the transaction.");
                        console.log(resData);
                    } else {
                        console.error("STK Push Failed:", await response.text());
                        alert("Failed to initiate STK push. Please try again.");
                    }
                } catch (error) {
                    console.error("Error:", error);
                    alert("An error occurred. Please try again.");
                }
            });
        </script>
    </section>
    <br><br>

    <!-- map and contact section -->
    <h1>How you can reach out to us</h1><br>
    <div class="container">
                <!-- Left Division Map div-->
            <div class="left">
                <section id="map-container">
                <h2 style="margin-top: 10px">Our Location</h2><br>
                <div id="map"></div>
            </section>
            <!-- Script for map section -->
            <script>
                function initMap() {
                    const location = {lat: 40.748817, lng: -73.985428};
                    const map = new google.maps.Map(document.getElementById("map"), {
                        center: location,
                        zoom: 12,
                    });
                    const marker = new google.maps.Marker({
                        position: location,
                        map: map,
                        title: "We are here!",
                    });
                    window.onload = initMap;
                }
            </script>
            </div>

        <!-- Contact section -->
        <! -- Right Division -->
        <!-- Contaner for contact form -->
        <div class="right">
                <section id="contact">
                <!-- Form for filling in clinet details -->
                <div class="contact-div">
                    <h2 style="margin-bottom: 10px">Contact Us</h2>
                    <form id="contact-form">
                        <label for="name"></label>
                        <input type="text" id="name" name="name" placeholder="Name" required>
                        <br><br>
                        <label for="email"></label>
                        <input type="email" id="email" placeholder="Email" name="email" required>
                        <br><br>
                        <label for="phone-number"></label>
                        <input type="number" id="phone-number" placeholder="Active Phone no." name="phone-number" required>
                        <br><br>
                        <label for="date" style="color: rgb(105, 13, 13); font-weight: 200;">Book an appointment date</label>
                        <br><br>
                        <input type="datetime-local" id="date" placeholder="dates" name="date" required>
                        <br><br>
                        <label for="message">Optional</label><br><br>
                        <textarea name="message" id="message" placeholder="Any other information "></textarea>
                        <br><br>
                        <button type="submit" class="submitBTN" style="width: 100%; margin-right: 5px; margin-left: 3px; height: 50px; border-radius: 10px; font-size: 18px; background-color: darkgreen; border: none; cursor: progress;">Submit</button>
                    </form>
                </div>
                <!-- Script for the client form -->
                <script>
                    document.getElementById('submitBTN').addEventListener('click', function (e) {
                        e.preventDefault(); // Prevent the default form submission behavior

                        // Collect the data from the form
                        const name = document.getElementById('name').value;
                        const email = document.getElementById('email').value;
                        const phone = document.getElementById('phone-number').value;
                        const date = document.getElementById('date').value;
                        const message = document.getElementById('message').value;

                        // Validate form data (optional but recommended)
                        if (!name || !email || !phone || !date) {
                            alert("Please fill out all the required fields.");
                            return;
                        }

                        // Construct the WhatsApp message
                        const whatsappNumber = "0715450867"; // Replace with your WhatsApp number (no "+" or dashes)
                        const whatsappMessage = `Hello, I am ${name}.
                Email: ${email}
                Phone: ${phone}
                Preferred Date: ${date}
                Additional Message: ${message ? message : "No additional information provided"}`;

                        // Encode the message for the URL
                        const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;

                        // Open the WhatsApp link
                        window.open(whatsappLink, '_blank');
                    });
                </script>

                <br>

                <!-- Social links are here-->
                <div id="social-links" class="social-links">
                    <button title="WhatsApp" style="border: none; background-color:black; margin-right: 12px"><a href=""><img src="icons/whatsapp.png" alt="WhatsApp icon" style="width: 31px; height: 31px; border: none"></a></button>
                    <button title="Gmail" style="border: none; background-color:black; margin-right: 12px"><a href=""><img src="icons/gmail.png" alt="Gmail icon" style="width: 31px; height: 31px; border: none"></a></button>
                    <button title="LinkedIn" style="border: none; background-color:black; margin-right: 12px"><a href=""><img src="icons/linkedin.png" alt="LinkedIn icon" style="width: 31px; height: 31px; border: none"></a></button>
                    <button title="Logo" style="border: none; background-color:black; margin-right: 12px"><a href=""><img src="icons/logos.png" alt="Logo icon" style="width: 31px; height: 31px; border: none"></a></button>
                    <button title="Instagram" style="border: none; background-color:black; margin-right: 12px"><a href=""><img src="icons/instagram.png" alt="Instagram icon" style="width: 31px; height: 31px; border: none"></a></button>
                </div>

            </section>
        </div>
    </div>
</main>
<footer>

</footer>

                <!-- Script for the client form -->>
            <script>
                    document.getElementById('submitBTN').addEventListener('click', function (e) {
                        e.preventDefault(); // Prevent the default form submission behavior

                        // Collect the data from the form
                        const name = document.getElementById('name').value;
                        const email = document.getElementById('email').value;
                        const phone = document.getElementById('phone-number').value;
                        const date = document.getElementById('date').value;
                        const message = document.getElementById('message').value;

                        // Validate form data (optional but recommended)
                        if (!name || !email || !phone || !date) {
                            alert("Please fill out all the required fields.");
                            return;
                        }

                        // Construct the WhatsApp message
                        const whatsappNumber = "0715450867"; // Replace with your WhatsApp number (no "+" or dashes)
                        const whatsappMessage = `Hello, I am ${name}.
                Email: ${email}
                Phone: ${phone}
                Preferred Date: ${date}
                Additional Message: ${message ? message : "No additional information provided"}`;

                        // Encode the message for the URL
                        const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;

                        // Open the WhatsApp link
                        window.open(whatsappLink, '_blank');
                    });
            </script>
</body>
</html>
